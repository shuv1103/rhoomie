// prisma/schema.prisma

generator client {
  provider = "prisma-client"
  output = "../generated"
}

datasource db {
  provider = "postgresql"
}

model User {
  id              String       @id @default(uuid())
  fullName        String
  email           String       @unique
  googleId        String?      @unique
  age             Int
  gender          Gender
  occupation      Occupation
  collegeCompany  String?

  isKycVerified   Boolean      @default(false)

  preferences     Preference?

  createdAt       DateTime     @default(now())
  updatedAt       DateTime     @updatedAt
}

model Preference {
  id              String       @id @default(uuid())
  userId          String       @unique
  user            User         @relation(fields: [userId], references: [id])

  // ---- MOVE-IN & ROOM ----
  preferredMoveIn DateTime?
  monthlyBudget   Int
  roomType        RoomType
  preferredGender PreferredGender

  // ---- LOCATION ----
  city            String
  area            String?

  // ---- LIFESTYLE ----
  dieting         DietType
  smoking         Habit
  alcohol         Habit
  partying        Habit
  cleaning        CleaningFrequency
  wakeUpTime      WakeTime
  sleepTime       SleepTime
  gaming          Habit

  languages       String[]

  createdAt       DateTime     @default(now())
  updatedAt       DateTime     @updatedAt
}

// ENUMS
enum Gender {
  MALE
  FEMALE
  OTHERS
}

enum PreferredGender {
  MALE
  FEMALE
  OTHERS
}

enum Occupation {
  STUDENT
  WORKING_PROFESSIONAL
  OTHERS
}

enum RoomType {
  SINGLE
  DOUBLE
  TRIPLE
  FLAT
}

enum Habit {
  YES
  NO
  OCCASIONALLY
}

enum WakeTime {
  EARLY
  MID
  LATE
}

enum SleepTime {
  BEFORE_11
  AFTER_11
}

enum DietType {
  VEG
  NON_VEG
  EGGETARIAN
  JAIN
  VEGAN
}

enum CleaningFrequency {
  DAILY
  WEEKLY
  RARELY
}
